generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Visita {
  id          Int         @id @default(autoincrement())
  rut         String
  nombre      String
  empresa     String
  autoriza    String
  horaInicio  String
  motivo      String      @db.Text
  estado      String      @default("Activo")
  fecha       String
  fechaFin    String?
  horaFin     String?
  documentos  Documento[]
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt
}

model Documento {
  id        Int      @id @default(autoincrement())
  nombre    String
  tipo      String?
  fecha     DateTime @default(now())
  visitaId  Int
  visita    Visita   @relation(fields: [visitaId], references: [id])
  url       String?
}
